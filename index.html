<!DOCTYPE html>
<html>
<head>
    <title>
        rock paper scissors
    </title>
</head>
<body>
    <script>
        //Asks for player's throw and determines winner
        function playRound() {
            let computerSelection = String(computerPlay());
            let playerSelection = prompt("Rock, paper, or scissors?").toLowerCase();         
            
            if (playerSelection == "rock" && computerSelection == "paper") {
                return "You chose " + playerSelection + ". Computer chose " + computerSelection + ". You Lose!";
            } else if (playerSelection == "rock" && computerSelection == "scissors") {
                return "You chose " + playerSelection + ". Computer chose " + computerSelection + ". You win!";
            } else if (playerSelection == "paper" && computerSelection == "rock") {
                return "You chose " + playerSelection + ". Computer chose " + computerSelection + ". You win!";
            } else if (playerSelection == "paper" && computerSelection == "scissors") {
                return "You chose " + playerSelection + ". Computer chose " + computerSelection + ". You Lose!";
            } else if (playerSelection == "scissors" && computerSelection == "rock") {
                return "You chose " + playerSelection + ". Computer chose " + computerSelection + ". You Lose!";
            } else if (playerSelection == "scissors" && computerSelection == "paper") {
                return "You chose " + playerSelection + ". Computer chose " + computerSelection + ". You win!";
            } else if (playerSelection == computerSelection) {
                return "You chose " + playerSelection + ". Computer chose " + computerSelection + ". Draw";
            } else {
                return "Misspelling. Try again!"
            }
        }
    
        //Choose computer's throw
        function computerPlay() {
            computerRand = Math.random()
            if (computerRand <= (1/3)) {
                return 'rock';
            } else if (computerRand <= (2/3)) {
                return 'paper';
            } else {
                return 'scissors';
            }
        }
        
        //Runs through a series of games. Change 'bestOf' to change game length.
        function game() {
            let bestOf = 5, 
                computerWins = 0,
                playerWins = 0;

            while (playerWins + computerWins < bestOf) {
                let lastLetters = playRound().substr(-4,4);
                if (lastLetters == "win!") {
                    playerWins++;
                    console.log("You won the round. Score is " + playerWins + " to " + computerWins)
                } else if (lastLetters == "ose!") {
                    computerWins++;
                    console.log("You lost the round. Score is " + playerWins + " to " + computerWins)
                } else {
                    console.log("Draw. Score is still " + playerWins + " to " + computerWins);
                }
            }
            if (playerWins > computerWins) {
                console.log("You won the game " + playerWins + " to " + computerWins + "!");
            } else {
                console.log("You lost the game " + playerWins + " to " + computerWins + "!");            }
        }
    </script>
</body>
</html>